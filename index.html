<!DOCTYPE html>
<html>
<head>
    <title>Chat ID App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .content { text-align: center; }
    </style>
</head>
<body>
    <div class="content">
        <h1>Ваш Chat ID:</h1>
        <p id="chatId">Загрузка...</p>
    </div>

    <script>
        // Инициализация Telegram Web App
        const tg = window.Telegram.WebApp;

        // Получаем chat ID из параметров
        const chatId = tg.initDataUnsafe.user?.id || "Недоступно";

        // Отображаем chat ID
        document.getElementById('chatId').textContent = chatId;

        // Отправляем данные в Google Таблицу
        const googleScriptUrl = 'https://script.google.com/macros/s/AKfycbzeC5R3WmU0clDybZCnxkcs_wPCub-gf4UMRKzrKsj2KPw_U4FafMgBYGhIzzu-yjoIAQ/exec'; // Замените на ваш URL
        fetch(googleScriptUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ chatId: chatId })
        })
        .then(response => response.text()) // Читаем ответ как текст
        .then(result => {
            console.log('Ответ от Google Apps Script:', result);
        })
        .catch(error => console.error('Ошибка:', error));
    </script>
</body>
</html>
